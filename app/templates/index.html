{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block styles %}
{{super()}}
<link rel="stylesheet" href="{{url_for('.static', filename='styles.css')}}">
{% endblock %}

{% block scripts %}

{{super()}}
{% endblock %}


{% block app_content %}
  <h1>Hi, {{ current_user.username }}!</h1>

  <div>
    <canvas id="line_plot"></canvas>
    <canvas id="bar_plot"></canvas>
    <div class="row">
      <div class="column">
        <canvas id="doughnut_plot_incoming"></canvas>
      </div>
      <div class="column">
          <canvas id="doughnut_plot_outgoing"></canvas>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>
  <script src="{{ url_for('static', filename='plots.js') }}"></script>
  <script type="text/javascript">
    make_line_plot("line_plot", {{ overall_data}}, {{labels | safe}});
    make_bar_plot("bar_plot",  {{ incoming_data }}, {{ outgoing_data }}, {{ labels_bar | safe}});
    make_doughnut_plot("doughnut_plot_incoming", {{incoming_data}});
    make_doughnut_plot("doughnut_plot_outgoing", {{outgoing_data}});
  </script>
{% endblock %}
